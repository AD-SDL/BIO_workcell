3. run inoculate_between_plates_step2.yaml workflow 
- inoculate plate on SOLO Position4 from plate on SOLO Position6
    OLD PLATE (SOLO Position6) -> NEW PLATE (SOLO Position4)
        column 4 -> 1
        column 8 -> 5
        column 12 -> 9
- open hidex gate
- transfer new plate (SOLO Position4) to hidex
- run hidex OD(590) assay
- open hidex gate
- transfer plate to sealer
- close hidex gate
- seal plate
- transfer plate to liconic incubator nest
- load liconic incubator (based on plate_id variable)
- start shaking liconic incubator 
- transfer old plate (SOLO Position6) to Stack 1 (for trash)

name: Adaptive_Lab_Evolution - Inoculate from Stock 

metadata:
  author: Zahmeeth Sakkaff, Casey Stone, Abe Stroka, and Nidhi Gupta
  info: An Adaptive_Lab_Evolution workflow for the BIO workcell
  version: 0.1

modules:
  - name: solo
  - name: hidex
  - name: platecrane
  - name: sealer
  - name: liconic

flowdef:
  - name: Inoculate Plate 
    module: solo
    action: run_protocol
    args:
      hso_contents: payload.hso
      hso_num_lines: payload.hso_lines
      hso_basename: payload.hso_basename
    checks: RESOURCE_CHECK
    comment: resource check not implemented, but will be

  - name: Open Hidex
    module: hidex
    action: open
    args: 
      foo: "bar"
    checks: null
    comment: Open Hidex Gate

  - name: Move plate from Solo Position4 to Hidex Nest
    module: platecrane
    action: transfer
    args:
      source: "Solo.Position4"
      target: "HidexNest2"
      source_type: "module"
      target_type: "module"      
      height_offset: "700"
    checks: null
    comment: Place plate to Hidex Nest

  - name: run Hidex
    module: hidex
    action: run_assay
    args: 
      assay_name: "Campaign2_wei_cs"
    checks: null
    comment: Run protocol at hidex

  - name: Open Hidex
    module: hidex
    action: open
    args: 
      foo: "bar"
    checks: null
    comment: Open Hidex Gate

  - name: Move plate from HidexNest to Sealer
    module: platecrane
    action: transfer
    args:
      source: "HidexNest2"
      target: "SealerNest"
      source_type: "module"
      target_type: "module"  
      height_offset: "650"
    checks: null
    comment: Place plate to Sealer

  - name: Close Hidex
    module: hidex
    action: close
    args: 
      foo: "bar"
    checks: null
    comment: Close Hidex Gate

  - name: Seal plate
    module: sealer
    action: seal
    args:
      time: payload:seal.time
      temperature: 175
    checks: null
    comment: Seal the plate

  - name: Move plate from Sealer to Liconic
    module: platecrane
    action: transfer
    args:
      source: "SealerNest"
      target: "Liconic.Nest"
      source_type: "module"
      target_type: "stack"   
    checks: null
    comment: Place plate onto Liconic

  - name: Load Liconic
    module: liconic
    action: load_plate
    args: 
      plate_id: payload.plate_id
    checks: null
    comment: Stage pcr plates

  - name: Start shaker at set speed
    module: liconic
    action: begin_shake
    args: 
      shaker_speed: payload.shaker_speed
    checks: null
    comment: Stage pcr plates

  - name: Move old plate from SOLO Position6 to Stack1 (trash)
    module: platecrane
    action: transfer
    args:
      source: "Position6"
      target: "Stack1"
      source_type: "module"
      target_type: "stack"   
      height_offset: "700"  # TODO: check this offset
    checks: null
    comment: Place plate into trash Stack